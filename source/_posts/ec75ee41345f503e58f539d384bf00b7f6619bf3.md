---
title: humanoid-gym
date: 2024-10-23 11:06:49
categories: ['2.å·¥ä½œ', 'é¡¹ç›®', 'æœºå™¨äºº', 'Project']
tags: ['é¡¹ç›®', 'æœºå™¨äºº', 'Project', 'å·¥ä½œ']
---

Humanoid Gym æ˜¯å…·èº«æ™ºèƒ½æœºå™¨äººé¢†åŸŸæœ€å¹¿æ³›ä½¿ç”¨çš„è®­ç»ƒæ¡†æ¶, åŸºäº Isaac Gym æ¨¡æ‹Ÿå™¨, å®ƒçš„
  
  
## åŸºæœ¬ä¿¡æ¯

  
  
### github

[GitHub - roboterax/humanoid-gym: Humanoid-Gym: Reinforcement Learning for Humanoid Robot with Zero-Shot Sim2Real Transfer https://arxiv.org/abs/2404.05695](https://github.com/roboterax/humanoid-gym)
  
  
### è®ºæ–‡

[0.Humanoid-Gym Reinforcement Learning for Humanoid](../6f252f6a1db58de9aa515272f56dab6e4f95c489)
  
  
### å®˜ç½‘

[Humanoid-Gym](https://sites.google.com/view/humanoid-gym/)
  
  
## å¼€å‘ç¯å¢ƒ

**å‰ç½®:**
[[AI æ¨¡å‹è®­ç»ƒå¼€å‘ç¯å¢ƒ]]

```sh
# å…‹éš†é¡¹ç›®åˆ°å·¥ç¨‹ç›®å½• /opt/git 
cd /opt/git  
git clone git@github.com:qiaogaojian/humanoid-gym.git
# åˆ‡æ¢åˆ°è‡ªå®šä¹‰åˆ†æ”¯
git checkout -b real2sim2real

# åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
cd humanoid-gym
micromamba create -p ./venv python=3.8
micromamba activate ./venv

# å®‰è£… pytorch
pip install torch==2.0.1+cu118 torchvision==0.15.2+cu118 torchaudio==2.0.2+cu118 torchtext==0.15.2 torchdata==0.6.1 --extra-index-url https://download.pytorch.org/whl/cu118 -i https://pypi.tuna.tsinghua.edu.cn/simple

# å®‰è£… numpy
pip install numpy==1.21.1 -i https://pypi.tuna.tsinghua.edu.cn/simple

# ä¸‹è½½ Isaac Gym (humanoid gym ä¸­å·²é›†æˆ, è¿™ä¸€æ­¥å¯ä»¥è·³è¿‡)
# ä¸‹è½½åœ°å€: https://developer.nvidia.com/isaac-gym
tar -xvf IsaacGym_Preview_4_Package.tar.gz
cd isaacgym/python && vim setup.py
# å› ä¸ºå‰é¢å·²ç»å®‰è£…è¿‡, æ³¨é‡Šæ‰ torch>=1.8.0  å’Œ torchvision>=0.9.0

# å®‰è£… Isaac Gym
cd isaacgym/python && pip install -e . -i https://pypi.tuna.tsinghua.edu.cn/simple
# æµ‹è¯• Isaac Gym ç¯å¢ƒ
cd examples && python 1080_balls_of_solitude.py

# å®‰è£… Humanoid Gym
cd /opt/git/humanoid-gym && pip install -e . -i https://pypi.tuna.tsinghua.edu.cn/simple
```
  
  
## æ“ä½œå‘½ä»¤

  
  
### è®­ç»ƒ

Launching PPO Policy Training for 'v1' Across 4096 Environments
This command initiates the PPO algorithm-based training for the humanoid task.
```sh
python humanoid/scripts/train.py --task=humanoid_ppo --run_name v1 --num_envs 4096 --headless
```
  
  
### æµ‹è¯•

Evaluating the Trained PPO Policy 'v1'
This command loads the 'v1' policy for performance assessment in its environment. 
Additionally, it automatically exports a JIT model, suitable for deployment purposes.
```sh
python humanoid/scripts/play.py --task=humanoid_ppo --run_name v1 --num_envs 3 --load_run Oct23_14-56-23_v1
```
  
  
### sim2sim

Implementing Simulation-to-Simulation Model Transformation
This command facilitates a sim-to-sim transformation using exported 'v1' policy.
```sh
python humanoid/scripts/sim2sim.py --load_model logs/XBot_ppo/exported/policies/policy_1.pt
```

Run our trained policy
```sh
python humanoid/scripts/sim2sim.py --load_model logs/XBot_ppo/exported/policies/policy_example.pt
```
  
  
### real2sim


  
  
### sim2real


  
  
## æ ¸å¿ƒä»£ç 

```sh
humanoid/
â”œâ”€â”€ algo/
â”‚   â”œâ”€â”€ ppo/
â”‚   â”‚   â”œâ”€â”€ __init__.py         # PPOç®—æ³•ç›¸å…³æ¨¡å—çš„åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ actor_critic.py     # å®šä¹‰ActorCriticç½‘ç»œç»“æ„
â”‚   â”‚   â”œâ”€â”€ ppo.py              # PPOç®—æ³•çš„æ ¸å¿ƒå®ç°
â”‚   â”‚   â”œâ”€â”€ on_policy_runner.py # å®šä¹‰OnPolicyRunnerç±»,ç®¡ç†è®­ç»ƒè¿‡ç¨‹
â”‚   â”‚   â””â”€â”€ rollout_storage.py  # å®šä¹‰RolloutStorageç±»,å­˜å‚¨è®­ç»ƒæ•°æ®
â”‚   â”œâ”€â”€ __init__.py             # algoæ¨¡å—çš„åˆå§‹åŒ–æ–‡ä»¶
â”‚   â””â”€â”€ vec_env.py              # å®šä¹‰VecEnvç±»,ç”¨äºå¹¶è¡Œç¯å¢ƒç®¡ç†
â”œâ”€â”€ envs/
â”‚   â”œâ”€â”€ base/                   # base ç¯å¢ƒ
â”‚   â”‚   â”œâ”€â”€ legged_robot.py     # å®šä¹‰LeggedRobotåŸºç±»,å®ç°åŸºæœ¬çš„æœºå™¨äººç¯å¢ƒ
â”‚   â”‚   â””â”€â”€ legged_robot_config.py # å®šä¹‰LeggedRobotCfgå’ŒLeggedRobotCfgPPOé…ç½®ç±»
â”‚   â””â”€â”€ humanoid/               # è¿™æ˜¯å…·ä½“çš„æœºå™¨äººè®­ç»ƒç¯å¢ƒ, æ¯ç§æœºå™¨äººæˆ–è®­ç»ƒç®—æ³•éƒ½éœ€è¦ç‹¬ç«‹çš„ç¯å¢ƒ
â”‚       â”œâ”€â”€ humanoid_config.py  # å®šä¹‰XBotLCfgå’ŒXBotLCfgPPOé…ç½®ç±» (ç¯å¢ƒé…ç½®å’Œ PPO ç®—æ³•é…ç½®)
â”‚       â””â”€â”€ humanoid_env.py     # å®šä¹‰XBotLEnvç±»,å®ç°äººå½¢æœºå™¨äººç¯å¢ƒ (ä¸»è¦ç”¨äºè®¡ç®—state reward)
â”œâ”€â”€ scripts/                    # åŠŸèƒ½è„šæœ¬
â”‚   â”œâ”€â”€ play.py                 # ç”¨äºè¿è¡Œè®­ç»ƒå¥½çš„ç­–ç•¥
â”‚   â”œâ”€â”€ sim2sim.py              # å®ç°ä»ä»¿çœŸåˆ°ä»¿çœŸçš„è¿ç§»
â”‚   â””â”€â”€ train.py                # è®­ç»ƒè„šæœ¬çš„å…¥å£
â”œâ”€â”€ utils/                      # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ task_registry.py        # å®šä¹‰TaskRegistryç±»,ç”¨äºæ³¨å†Œå’Œç®¡ç†ä»»åŠ¡
â””â”€â”€ __init__.py                 # humanoidæ¨¡å—çš„åˆå§‹åŒ–æ–‡ä»¶
```





**ç›¸å…³ç¬”è®°:**

- [0.Humanoid-Gym Reinforcement Learning for Humanoid](../6f252f6a1db58de9aa515272f56dab6e4f95c489)

{% pullquote mindmap mindmap-md %}
- ğŸ”µ
  - [0.Humanoid-Gym Reinforcement Learning for Humanoid](../6f252f6a1db58de9aa515272f56dab6e4f95c489)
{% endpullquote %}