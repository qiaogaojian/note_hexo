# AssetBundle

## What: 什么是AssetBundle

AssetBundle是Unity引擎提供的一种用于存储资源的文件格式,它可以存储任意一种Unity引擎能够识别的资源,例如模型/纹理/音频/动画片段甚至整个场景等. 

## Why: 资源加载方式及其优缺点

### public引用

- 优点
  - 方便快捷

- 缺点
  
  - 无法配置
  
  - 存在引用丢失现象
  
- 适用场景
  - 做游戏原型
  - 框架层代码,写完一般不改

### Resources

- 优点

  - 灵活配置

  - 方便快捷

- 缺点
  - Resources目录下的所有文件都会随包打包，造成包体过大
  - Resources目录没办法热更新资源，只能重新打包游戏
  - 再者命名对资源加载影响重大，命名的变更需要更加谨慎
  - Resources内的资源会增加应用程序的启动时间和构建时长

- 适用场景
  - 某些资源是项目整个生命周期都必须要用的
  - 有些很重要，但是却不怎么占内存的
  - 不怎么需要变化，并且不需要进行平台差异化处理的
  - 用于系统启动时候最小引导的

### AssetBundle

- 优点
  - AssetBundle自身保存着互相的依赖关系
  - 压缩包可以使用LZMA和LZ4压缩算法，减少包大小，更快的进行网络传输
  - 把一些可以下载内容放在AssetBundle里面，可以减少安装包的大小 
- 缺点
  - 需要处理资源依赖和复用
- 适用场景
  - 热更新
  - 减少包体大小

### The Addressable Assets System

- 优点

  - 使用Addressable在开发前期就进入快速开发的阶段，使用任何你喜欢的资源管理技术，你都能快速的切换来Addressable系统中，几乎不需要修改代码。

  - 依赖管理：Addressable系统不仅仅会帮你管理、加载你指定的内容，同时它会自动管理并加载好该内容的全部依赖。在所有的依赖加载完成，你的内容彻底可用时，它才会告诉你加载完成。

  - 内存管理：Addressable不仅仅能记载资源，同时也能卸载资源。系统自动启用引用计数，并且有一个完善的Profiler帮助你指出潜在的内存问题。

  - 内容打包：Addressable系统自动管理了所有复杂的依赖连接，所以即使资源移动了或是重新命名了，系统依然能够高效地找到准确的依赖进行打包。当你需要将打包的资源从本地移到服务器上面，Addressable系统也能轻松做到，几乎不需要任何代价。

- 缺点

  - 新功能,Bug多,不稳定

- 适用场景

  - 非正式项目

## How: AssetBundle资源加载最佳实践

