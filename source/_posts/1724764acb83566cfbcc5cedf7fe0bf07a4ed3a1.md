---
title: Git submodule å­æ¨¡å—çš„ç®¡ç†å’Œä½¿ç”¨
date: 2022-11-12 00:42:56
categories: []
tags: ['Git', 'å·¥å…·', 'å¼€å‘', 'srcard', 'git']
---
  
  
## ä½¿ç”¨å‰æ

ç»å¸¸ç¢°åˆ°è¿™ç§æƒ…å†µï¼šå½“ä½ åœ¨ä¸€ä¸ª Git é¡¹ç›®ä¸Šå·¥ä½œæ—¶ï¼Œä½ éœ€è¦åœ¨å…¶ä¸­ä½¿ç”¨å¦å¤–ä¸€ä¸ª Git é¡¹ç›®ã€‚ä¹Ÿè®¸å®ƒæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹å¼€å‘çš„ Git åº“æˆ–è€…æ˜¯ä½ ç‹¬ç«‹å¼€å‘å’Œå¹¶åœ¨å¤šä¸ªçˆ¶é¡¹ç›®ä¸­ä½¿ç”¨çš„ã€‚è¿™ä¸ªæƒ…å†µä¸‹ä¸€ä¸ªå¸¸è§çš„é—®é¢˜äº§ç”Ÿäº†ï¼šä½ æƒ³å°†ä¸¤ä¸ªé¡¹ç›®å•ç‹¬å¤„ç†ä½†æ˜¯åˆéœ€è¦åœ¨å…¶ä¸­ä¸€ä¸ªä¸­ä½¿ç”¨å¦å¤–ä¸€ä¸ªã€‚

åœ¨ Git ä¸­ä½ å¯ä»¥ç”¨å­æ¨¡å—`submodule`æ¥ç®¡ç†è¿™äº›é¡¹ç›®ï¼Œ`submodule`å…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“å½“ä½œå¦å¤–ä¸€ä¸ª Git ä»“åº“çš„å­ç›®å½•ã€‚è¿™å…è®¸ä½ å…‹éš†å¦å¤–ä¸€ä¸ªä»“åº“åˆ°ä½ çš„é¡¹ç›®ä¸­å¹¶ä¸”ä¿æŒä½ çš„æäº¤ç›¸å¯¹ç‹¬ç«‹ã€‚
  
  
## æ·»åŠ å­æ¨¡å—

**æ·»åŠ å­æ¨¡å—å‘½ä»¤?**
  
æ­¤æ–‡ä¸­ç»Ÿä¸€å°†è¿œç¨‹é¡¹ç›®`git@gitee.com:qiaogaojian/framework.git`å…‹éš†åˆ°æœ¬åœ°`Framework`æ–‡ä»¶å¤¹ã€‚
```sh
$ git submodule add git@gitee.com:qiaogaojian/framework.git Framework
```
<!--SR:!2026-04-06,777,230-->

æ·»åŠ å­æ¨¡å—åè¿è¡Œ`git status`, å¯ä»¥çœ‹åˆ°ç›®å½•æœ‰å¢åŠ  1 ä¸ªæ–‡ä»¶`.gitmodules`, è¿™ä¸ªæ–‡ä»¶ç”¨æ¥ä¿å­˜å­æ¨¡å—çš„ä¿¡æ¯ã€‚

```
$ git status
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

    new file:   .gitmodules
    new file:   assets
```
  
  
## æŸ¥çœ‹å­æ¨¡å—

**æŸ¥çœ‹å­æ¨¡å—å‘½ä»¤?**
  
```
$ git submodule
 e33f854d3f51f5ebd771a68da05ad0371a3c0570 assets (heads/master)
```
<!--SR:!2027-07-28,1125,250-->
  
  
## æ›´æ–°å­æ¨¡å—

*   **æ›´æ–°é¡¹ç›®å†…å­æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬å‘½ä»¤?**
      
    ```
    $ git submodule update
    ```
    
*   æ›´æ–°å­æ¨¡å—ä¸ºè¿œç¨‹é¡¹ç›®çš„æœ€æ–°ç‰ˆæœ¬
    
    ```
    $ git submodule update --remote
    ```
    
  
  
## å…‹éš†åŒ…å«å­æ¨¡å—çš„é¡¹ç›®

å…‹éš†åŒ…å«å­æ¨¡å—çš„é¡¹ç›®æœ‰äºŒç§æ–¹æ³•ï¼šä¸€ç§æ˜¯å…ˆå…‹éš†çˆ¶é¡¹ç›®ï¼Œå†æ›´æ–°å­æ¨¡å—ï¼›å¦ä¸€ç§æ˜¯ç›´æ¥é€’å½’å…‹éš†æ•´ä¸ªé¡¹ç›®ã€‚
  
  
### å…‹éš†çˆ¶é¡¹ç›®ï¼Œå†æ›´æ–°å­æ¨¡å—

1.  å…‹éš†çˆ¶é¡¹ç›®

```
$ git clone https://github.com/maonx/vimwiki-assets.git assets
```

2.  æŸ¥çœ‹å­æ¨¡å—

```
$ git submodule
 -e33f854d3f51f5ebd771a68da05ad0371a3c0570 assets
```

å­æ¨¡å—å‰é¢æœ‰ä¸€ä¸ª`-`ï¼Œè¯´æ˜å­æ¨¡å—æ–‡ä»¶è¿˜æœªæ£€å…¥ï¼ˆç©ºæ–‡ä»¶å¤¹ï¼‰ã€‚

3.  åˆå§‹åŒ–å­æ¨¡å—

```
$ git submodule init
Submodule 'assets' (https://github.com/maonx/vimwiki-assets.git) registered for path 'assets'
```

åˆå§‹åŒ–æ¨¡å—åªéœ€åœ¨å…‹éš†çˆ¶é¡¹ç›®åè¿è¡Œä¸€æ¬¡ã€‚

4.  æ›´æ–°å­æ¨¡å—

```
$ git submodule update
Cloning into 'assets'...
remote: Counting objects: 151, done.
remote: Compressing objects: 100% (80/80), done.
remote: Total 151 (delta 18), reused 0 (delta 0), pack-reused 70
Receiving objects: 100% (151/151), 1.34 MiB | 569.00 KiB/s, done.
Resolving deltas: 100% (36/36), done.
Checking connectivity... done.
Submodule path 'assets': checked out 'e33f854d3f51f5ebd771a68da05ad0371a3c0570'
```
  
  
### é€’å½’å…‹éš†æ•´ä¸ªé¡¹ç›®

**clone å¸¦å­æ¨¡å—çš„é¡¹ç›®?**
  
```
git clone https://github.com/maonx/vimwiki-assets.git assets --recursive
```
é€’å½’å…‹éš†æ•´ä¸ªé¡¹ç›®ï¼Œå­æ¨¡å—å·²ç»åŒæ—¶æ›´æ–°äº†ï¼Œä¸€æ­¥åˆ°ä½ã€‚
<!--SR:!2026-10-01,939,250-->
  
  
## ä¿®æ”¹å­æ¨¡å—

åœ¨å­æ¨¡å—ä¸­ä¿®æ”¹æ–‡ä»¶åï¼Œç›´æ¥æäº¤åˆ°è¿œç¨‹é¡¹ç›®åˆ†æ”¯ã€‚

```
$ git add .
$ git ci -m "commit"
$ git push origin HEAD:master
```
  
  
## åˆ é™¤å­æ¨¡å—

**æ€ä¹ˆåˆ é™¤å­æ¨¡å—?**
  
**åˆ é™¤å­æ¨¡å—æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ç›¸å…³çš„æ–‡ä»¶ï¼Œå¦åˆ™åœ¨æ·»åŠ å­æ¨¡å—æ—¶æœ‰å¯èƒ½å‡ºç°é”™è¯¯**  
åŒæ ·ä»¥åˆ é™¤`assets`æ–‡ä»¶å¤¹ä¸ºä¾‹
  
1.  åˆ é™¤å­æ¨¡å—æ–‡ä»¶å¤¹
```sh
$ git rm --cached assets

$ rm -rf assets
$ rm -rf .git/modules/assets
```
  
2.  åˆ é™¤`.gitmodules`æ–‡ä»¶ä¸­ç›¸å…³å­æ¨¡å—ä¿¡æ¯
```sh
[submodule "assets"]
  path = assets
  url = https://github.com/maonx/vimwiki-assets.git
```
  
3.  åˆ é™¤`.git/config`ä¸­çš„ç›¸å…³å­æ¨¡å—ä¿¡æ¯
```sh
[submodule "assets"]
  url = https://github.com/maonx/vimwiki-assets.git
```
<!--SR:!2026-04-10,709,210-->
  
  
## æ›´æ¢å­æ¨¡å—

- å…ˆåˆ é™¤
- å†æ·»åŠ 


**Backlinks:**

- [Git å¼€å‘ç¯å¢ƒ](../398c907730d3d916e72688bf34e18ad17c4edeff)

{% pullquote mindmap mindmap-md %}
- ğŸ”µ
  - [Git å¼€å‘ç¯å¢ƒ](../398c907730d3d916e72688bf34e18ad17c4edeff)
{% endpullquote %}