---
title: Fish 入门指南
date: 2023-02-11 18:54:41
categories: ['6.工具', '开发', '开发环境']
tags: ['开发环境', 'linux', 'shell', '工具', '开发']
---

fish 是一个用户友好的命令行程序，全称 Friendly Interactive Shell。
  
  
### fish 功能简介

1. 语法高亮：输入命令时，你会发现输入错误的命令显示为红色，正确的命令为淡紫色，参数提示为浅蓝色。
2. 智能提示：在输入命令时会根据历史记录出现灰色提示，若该提示是你需要的可以按 ctrl+f 或→键即可自动补全命令。
3. 快速路径：fish 增加了 2 条独有的快速切换路径的命令。  
　- dirh：可显示当前会话中进入过的路径记录。  
    ![](https://img-blog.csdnimg.cn/20210318224053953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ3NjcwNjgz,size_16,color_FFFFFF,t_70#pic_center)  
 　- prevd：根据 dirh 的显示内容，输入 prevd 数字可快速切换路径。  
    ![](https://img-blog.csdnimg.cn/20210318224357731.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ3NjcwNjgz,size_16,color_FFFFFF,t_70#pic_center)
  
  
### 安装 fish

```sh
$ sudo apt install fish
```
  
  
### 确认 fish 安装路径

```sh
$ which fish
```

通常路径是 / usr/bin/fish
  
  
### 切换 fish 为默认 shell

```sh
$ chsh -s /usr/bin/fish
```
  
  
### 编辑 / etc/passwd

找到需要使用 fish 的账户，例如：root 和个人账户

*   root 账户，通常在第一行，内容如下：    
```
root:x:0:0:root:/root:/usr/bin/bash
```
修改内容为：    
```
root:x:0:0:root:/root:/usr/bin/fish
```
*   个人账户，通常在倒数第一或第二行，内容如下：    
```
name:x:1000:1000:name,,,:/home/name:/usr/bin/bash
```
修改内容为：    
```
name:x:1000:1000:name,,,:/home/name:/usr/bin/fish
```
  
  
### 配置 fish

```
fish_config
```

输入命令后会调用浏览器打开网页，内容如下图：  
![](https://img-blog.csdnimg.cn/20210318222259978.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ3NjcwNjgz,size_16,color_FFFFFF,t_70#pic_center)  
在这网页里面可以修改 fish 的颜色主题、提示符、功能等等选项。  
我推荐的颜色主题：Tomorrow Night，选中点右上角的 “Set Theme” 按钮(灰底浅灰色字，请仔细找)。  
我推荐的提示符：Informative Vcs，选中以后点右上角的 “Set Prompt” 按钮(灰底浅灰色字，请仔细找)。  
设置完以后，关闭网页，回到终端按回车，再按 ctrl+d 关闭终端，再重新打开终端即可生效。
  
  
## 配置环境变量

[[Fish 添加 PATH 路径(环境变量)]]
  
  
### 关闭问候语

默认情况下打开终端会首行内容是问候语，如果不喜欢它可以使用下面的命令将其关闭：

```sh
set -U fish_greeting
```
  
  
### 在 fish 中使用 conda

若你发现在 fish 下面不能使用 conda 的 Python 环境，请按下面的步骤解决：

1.  安装、配置好 conda。
2.  安装、配置好 fish。
3.  打开终端依次输入下面 2 条命令：
    
    ```
    bash
    conda init fish
    ```
    
4.  关闭终端，重新打开终端，注意看终端右侧会有 conda 的提示符 (base)，如下图。  
    ![](https://img-blog.csdnimg.cn/20210318222346139.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ3NjcwNjgz,size_16,color_FFFFFF,t_70#pic_center)
5.  此时说明 conda 已经在 fish 中生效，大功告成！

**相关笔记:**

- [Fish 命令行工具](../10d99ef2a6dd035cac70c5f8def086cda109f1ad)

{% pullquote mindmap mindmap-md %}
- 🔵
  - [Fish 命令行工具](../10d99ef2a6dd035cac70c5f8def086cda109f1ad)
{% endpullquote %}