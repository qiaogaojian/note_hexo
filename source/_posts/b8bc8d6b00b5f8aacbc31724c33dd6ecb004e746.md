---
title: Pytorch + Obsidian + Conda + Cuda 搭建交互式笔记开发环境
date: 2024-03-25 10:00:30
categories: []
tags: ['技能', 'Pytorch', 'Tools', 'AI']
---

- 安装 cuda 和 cudnn [[安装 CUDA 和 cuDNN 环境]]
- 下载安装 Python3.9，配置 python 环境变量
- 下载 [Obsidian](https://obsidian.md/download)
- 安装并打开 Obsidian, 点击左下角 Setting -> community plugins -> Browse 搜索安装 Execute Code 插件
- 点击左下角 Setting -> PLUGIN OPTIONS -> Execute Code, 参考文档: [Obsidian Plugin to execute code in a note.](https://github.com/twibiral/obsidian-execute-code) 配置 Execute Code 插件
- 安装 pytorch, 打开 [Start Locally | PyTorch](https://pytorch.org/get-started/locally/) 根据自己的设备生成安装命令(老版本点这里[Previous PyTorch Versions](https://pytorch.org/get-started/previous-versions/)), 然后打开命令行执行安装命令 
```sh
# ********************************* gpu 版本 *********************************
pip uninstall torch torchaudio torchtext torchvision -y # 删除 cpu 版本

# pip
pip install torch==2.0.1+cu118 torchvision==0.15.2+cu118 torchaudio==2.0.2+cu118 torchtext==0.15.2 torchdata==0.6.1 --extra-index-url https://download.pytorch.org/whl/cu118 -i https://pypi.tuna.tsinghua.edu.cn/simple

# 如果 pytorch 下载速度太慢, 可以先用 NDM 下载 https://download.pytorch.org/whl/cu118/torch-2.0.1+cu118-cp39-cp39-win_amd64.whl
# 然后执行 pip install D:\Program\Cuda\torch-2.0.1+cu118-cp39-cp39-win_amd64.whl
# 然后执行 pip install D:\Program\Cuda\torch-2.0.1+cu118-cp310-cp310-win_amd64.whl


# ********************************* cpu 版本 *********************************

# pip
pip install torch==1.13.1 torchvision==0.14.1 torchaudio==0.13.1 torchtext==0.14.1
```
- 测试 pytorch 是否安装成功, 打开命令行, 输入 python 进入
```python
>>> import torch
>>> torch.__version__
1.3.0
>>> torch.cuda.is_available()
True
```
- 交互式笔记测试:
```python
import torch
# import torchvision
# import torchaudio
# import torchtext

# 查看 pytorch 版本
print(torch.__version__)
# 测试 cuda 安装情况
print(torch.cuda.is_available())
```
  
```sh
# 如果 torchvision torchtext 报错, 执行
pip install chardet

# 如果 torchaudio 报错, 执行
pip install soundfile # windows
pip install sox # linux
```

**除了torchvision、torchaudio和torchtext，PyTorch生态系统中还有一些与PyTorch类似的常见库。以下是其中一些库的简介：**

1.  **Fastai**：Fastai是一个基于PyTorch的高级深度学习库，旨在简化深度学习任务的实施和训练。它提供了易于使用的API和预训练模型，以及用于图像分类、文本处理、推荐系统等任务的高级工具。    
2.  **AllenNLP**：AllenNLP是一个用于自然语言处理（NLP）的开源库，构建在PyTorch之上。它提供了一系列预训练模型和工具，用于解决NLP任务，如文本分类、命名实体识别、语义角色标注等。    
3.  **Transformers**：Transformers是一个用于自然语言处理（NLP）的库，提供了各种预训练的语言模型（如BERT、GPT等）和用于文本处理的工具。它基于PyTorch，并提供了方便的API和预训练模型，使得实现和使用最新的NLP模型变得简单。    
4.  **PyTorch Lightning**：PyTorch Lightning是一个轻量级的PyTorch扩展库，旨在简化训练和扩展深度学习模型的过程。它提供了高级抽象和组件，使得模型训练过程更加模块化、可重用和可扩展。    
5.  **Catalyst**：Catalyst是一个用于训练和评估深度学习模型的高级框架，构建在PyTorch之上。它提供了一组强大的工具和组件，用于简化模型训练流程和实验管理。    
6.  **PyTorch Geometric**：PyTorch Geometric是一个用于图神经网络（GNN）的库，提供了处理图数据的工具和模型。它简化了图神经网络的实现和训练过程，适用于图分类、节点分类、图生成等任务。    
  
这些库在PyTorch生态系统中扮演着重要的角色，为深度学习和机器学习任务提供了更高级别的抽象、工具和预训练模型。根据具体的任务需求和个人偏好，选择适合的库来加速开发和改进模型性能。
  
  
## 参考

- [Python Micromamba + Poetry 环境管理](../34423981d978e285acba77d18622f5a99ad45aeb)
- [[安装 CUDA 和 cuDNN 环境]]
- [[CPU GPU CUDA cuDNN 的关系]]
- [python - "AssertionError: Torch not compiled with CUDA enabled" in spite upgrading to CUDA version - Stack Overflow](https://stackoverflow.com/questions/57814535/assertionerror-torch-not-compiled-with-cuda-enabled-in-spite-upgrading-to-cud)
- [Previous PyTorch Versions | PyTorch](https://pytorch.org/get-started/previous-versions/)

{% pullquote mindmap mindmap-md %}
- 🔵
  - [Python Micromamba + Poetry 环境管理](../34423981d978e285acba77d18622f5a99ad45aeb)
{% endpullquote %}