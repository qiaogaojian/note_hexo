# 各平台离线推送优缺点

## 各平台离线推送局限性
|平台 | 缺点 |
|---  |---   |
|小米|没有声音, 需要点击两次通知栏, 第一次恢复应用后台状态 第二次功能正常|
|华为|只有通知栏点击回调没有接收回调, 声音是系统默认的, 应用前台点击通知重新打开应用|
|魅族|默认支持离线推送, 声音是系统默认的, 点击进入主页|
|极光|通知和透传均支持实时离线推送,有稍许延迟, 国内推送综合表现最好的sdk|
|谷歌|默认支持离线推送, 在线离线功能均正常|

## 其他方法

### 进程保活 + 透传

## 竞品推送模块分析

同花顺

iFinD

大智慧

腾讯自选股

> 其中,同花顺/iFinD/腾讯自选股无法接收离线推送,大智慧有离线推送功能,OnePlus可以收到 华为 魅族收不到.

### 涉及推送sdk

- 魅族

- 小米

- 信鸽

- 华为推送旧版

- 魅族

## 策略

服务端通知栏 透传推送同时发送

客户端在线时屏蔽或取消通知栏 使用透传 客户端离线时使用通知栏 实现离线唤醒

特殊情况: 华为通知栏无法取消(没有接收回调) 华为可以只用通知栏 或 透传 各有优缺点

极光推送有延迟